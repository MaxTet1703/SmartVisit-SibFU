# SmartVisit SibFU

## Setup backend

To make it you need following tools for this
   - [uv](https://docs.astral.sh/uv/)
   - docker
   - docker-compose

1 Run database

```
docker compose up -d
```

2 Install virtual environment

```
uv venv --python 3.13 && source .venv/bin/activate && poetry install
```

3 Make migrations via alembic

```
alembic upgrade head
```

4 Run app

```
uvicorn src.app:app --host 0.0.0.0
```


## Setup ui

1 Open new terminal and move to ui directory

```
cd ui
```

2 Install dependencies via yarn

```
yarn install
```

3 Run android app

```
yarn android
```

4 To build application to apk-file, run following command

```
yarn android --mode release
```

## User guide

Цель приложения - автоматизация процесса записей к врачу в клинике

Не авторизованный пользователь:
1. Стартовый экран - экран входа, для входа систему необходимо ввести почту и пароли и нажать на кнопку "Войти"
2. Для регистрации необходимо на экране входа нажать на кнопку "Нет аккаунта?" после чего откроется окно с регистрацией. Нужно заполнить необходимыми данными и нажать на кнопку "Зарегистрироваться". Если появится сообщение об успешном входе, можно нажать на кнопку "Есть аккаунт?" который переведет на страницу входа. Иначе могут возникнуть ошибки валидации, сообщения которых отобразятся на экране. Нужно их предотвратить

Авторизованный пользователь
1. После входа откроется меню с профилем. Данные своего профиля можно изменить. Для этого Нажмите на кнопку редактировать, изменить соответствующие данные нажать на кнопку сохранить, после чего данные, которые были внесены, будут всегда до следующего изменения
2. Можно посмотреть филиалы на карте для этого нажать на кнопку "Наши филиалы". После чего откроется страница с картой, где можно увидеть местоположения офисов. Для возврата на главную страницу нажать на кнопку "Назад"

Клиент - подтип авторизованного пользователя, который является клиентом клиники
1. На странице с профилем можно нажать на кнопку "Забронировать запись", после чего произойдёт переход на страницу с записями, если у записи нет подписи "Забронировано", можно нажать на кнопку "Забронировать", после чего у плашки с записью появится подпись "Забронировано", и вместо кнопки "Забронировать" появится кнопка "отменить запись", нажав на которую, можно отменить запись и освободить для других пользователей

Сотрудник - подтип пользователя, который является врачом в клинике
1. Для создания записи, нужно нажать на кнопку "Создать запись", после чего произойдёт переход на страницу с формой для создания записи. необходимо заполнить её и нажать на кнопку "Создать запись". Для пользователей "Клиент" будет отображаться эта запись


## Monetization

Предполагается, что данное приложение переместить оффлайн процедуру бронирования записи
в цифровую систему, за счёт этого можно сократить штат сотрудников, ответственных за это
а также увеличить количество клиентов клиники, так как запись в клинику станет более доступной

## Security Aspects

1 Разделение пользователей на клиентов и работников на уровне приложения -
реализовать механизмы в приложении, которые не позволяют клиентам делать те действия, которые доступны только работникам сервиса и наоборот

2 Использования защищенных протоколов передачи информации таких как https для затруднения
чтения данных перехваченных злоумышленниками для незаконного просмотра информации

3 Хэширования компроментирующих данных, таких как пароли пользователей, чтобы ни у кого
кроме как пользователя, не было возможности доступа к аккаунта и производства различных действий
над ним

4 Использования JWT токенов для аутентификации, которые обладают сроком жизни, а значит им пользоваться злоумышленники могут не так долго

## Publication

Предполагается что приложение собрано в apk файл

1. Разворачивая API приложени и бд на удалённом хосте. Для этого нужно зарегистрироваться у провайдеров облачных хостов, например, TimeWeb Cloud или Selectel. Для этого дополнительно нужно
арендовать домен и настроить веб-сервер, например, nginx

2. Далее необходимо зарегистрировать игру на популярной платформе установке andoird приложений.
Выбран Play Market как самый популярный сервис для этих целей. Нужно зарегистрировать игру в сервисе
(стоимость данной услуги - 25$)

3. Для обложки приложения собрать несколько скриношотов использования и добавить описание приложения.

4. Выложить проект на Play Market, пройти проверку и если все успешно распространить новость о выпуске приложении среди клиентов. Это можно сделать посредством рекламы в соц сетях либо сделать обзвон клиентов и рассказать об этом.
